

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>deepecho.models.base module &mdash; DeepEcho 0.1.4 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/deepecho.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="deepecho.models.basic_gan module" href="deepecho.models.basic_gan.html" />
    <link rel="prev" title="deepecho.models package" href="deepecho.models.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #0095B2" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/DeepEcho-Logo-White-Small.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../readme.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html#installation">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/01_Getting_Started.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/01_Getting_Started.html#DeepEcho-Overview">DeepEcho Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/01_Getting_Started.html#Load-the-demo-dataset">Load the demo dataset</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/01_Getting_Started.html#Context">Context</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/01_Getting_Started.html#Data-Types">Data Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/01_Getting_Started.html#Sequence-Index">Sequence Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/01_Getting_Started.html#Using-the-PAR-Model">Using the PAR Model</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Resources</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="deepecho.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="deepecho.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="deepecho.models.html">deepecho.models package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="deepecho.models.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="deepecho.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="deepecho.demo.html">deepecho.demo module</a></li>
<li class="toctree-l3"><a class="reference internal" href="deepecho.sequences.html">deepecho.sequences module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#types-of-contributions">Types of Contributions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#report-bugs">Report Bugs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#fix-bugs">Fix Bugs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#implement-features">Implement Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#write-documentation">Write Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#submit-feedback">Submit Feedback</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#get-started">Get Started!</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#pull-request-guidelines">Pull Request Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#unit-testing-guidelines">Unit Testing Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#tips">Tips</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#release-workflow">Release Workflow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#release-candidates">Release Candidates</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../history.html">History</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id1">0.1.4 - 2020-10-16</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id2">0.1.3 - 2020-10-16</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id3">0.1.2 - 2020-09-15</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id4">0.1.1 - 2020-08-15</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id5">0.1.0 - 2020-08-11</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DeepEcho</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="deepecho.html">deepecho package</a> &raquo;</li>
        
          <li><a href="deepecho.models.html">deepecho.models package</a> &raquo;</li>
        
      <li>deepecho.models.base module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/k15z/DeepEcho/blob/master/docs/api/deepecho.models.base.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-deepecho.models.base">
<span id="deepecho-models-base-module"></span><h1>deepecho.models.base module<a class="headerlink" href="#module-deepecho.models.base" title="Permalink to this headline">Â¶</a></h1>
<p>Base DeepEcho class.</p>
<p><strong>Classes:</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#deepecho.models.base.DeepEcho" title="deepecho.models.base.DeepEcho"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DeepEcho</span></code></a></p></td>
<td><p>The base class for DeepEcho models.</p></td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="deepecho.models.base.DeepEcho">
<em class="property">class </em><code class="sig-prename descclassname">deepecho.models.base.</code><code class="sig-name descname">DeepEcho</code><a class="reference internal" href="../_modules/deepecho/models/base.html#DeepEcho"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepecho.models.base.DeepEcho" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The base class for DeepEcho models.</p>
<p><strong>Methods:</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#deepecho.models.base.DeepEcho.fit" title="deepecho.models.base.DeepEcho.fit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fit</span></code></a>(data[,Â entity_columns,Â context_columns,Â â¦])</p></td>
<td><p>Fit the model to a dataframe containing time series data.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#deepecho.models.base.DeepEcho.fit_sequences" title="deepecho.models.base.DeepEcho.fit_sequences"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fit_sequences</span></code></a>(sequences,Â context_types,Â â¦)</p></td>
<td><p>Fit a model to the specified sequences.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#deepecho.models.base.DeepEcho.sample" title="deepecho.models.base.DeepEcho.sample"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sample</span></code></a>([num_entities,Â context,Â sequence_length])</p></td>
<td><p>Sample a dataframe containing time series data.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#deepecho.models.base.DeepEcho.sample_sequence" title="deepecho.models.base.DeepEcho.sample_sequence"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sample_sequence</span></code></a>(context[,Â sequence_length])</p></td>
<td><p>Sample a single sequence conditioned on context.</p></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="deepecho.models.base.DeepEcho.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">entity_columns=None</em>, <em class="sig-param">context_columns=None</em>, <em class="sig-param">data_types=None</em>, <em class="sig-param">segment_size=None</em>, <em class="sig-param">sequence_index=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/deepecho/models/base.html#DeepEcho.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepecho.models.base.DeepEcho.fit" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Fit the model to a dataframe containing time series data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pd.DataFrame</em>) â DataFrame containing all the timeseries data alongside the
entity and context columns.</p></li>
<li><p><strong>entity_columns</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) â Names of the columns which identify different time series
sequences. These will be used to group the data in separated
training examples.</p></li>
<li><p><strong>context_columns</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) â The columns in the dataframe which are constant within each
group/entity. These columns will be provided at sampling time
(i.e. the samples will be conditioned on the context variables).</p></li>
<li><p><strong>data_types</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em>) â Dictinary indicating the data types of each column, which can be
<code class="docutils literal notranslate"><span class="pre">categorical</span></code>, <code class="docutils literal notranslate"><span class="pre">continuous</span></code> or <code class="docutils literal notranslate"><span class="pre">datetime</span></code>.</p></li>
<li><p><strong>segment_size</strong> (<em>int</em><em>, </em><em>pd.Timedelta</em><em> or </em><em>str</em>) â If specified, cut each training sequence in several segments of the
indicated size. The size can either can passed as an integer value,
which will interpreted as the number of data points to put on each
segment, or as a pd.Timedelta (or equivalent str representation),
which will be interpreted as the segment length in time. Timedelta
segment sizes can only be used with sequence indexes of type datetime.</p></li>
<li><p><strong>sequence_index</strong> (<em>str</em>) â Name of the column that acts as the order index of each sequence.
The sequence index column can be of any type that can be sorted,
such as integer values or datetimes.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="deepecho.models.base.DeepEcho.fit_sequences">
<code class="sig-name descname">fit_sequences</code><span class="sig-paren">(</span><em class="sig-param">sequences</em>, <em class="sig-param">context_types</em>, <em class="sig-param">data_types</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/deepecho/models/base.html#DeepEcho.fit_sequences"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepecho.models.base.DeepEcho.fit_sequences" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Fit a model to the specified sequences.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sequences</strong> â <p>List of sequences. Each sequence is a single training example
(i.e. an example of a multivariate time series with some context).
For example, a sequence might look something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;context&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span>
    <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The âcontextâ attribute maps to a list of variables which
should be used for conditioning. These are variables which
do not change over time.</p>
<p>The âdataâ attribute contains a list of lists corrsponding
to the actual time series data such that <cite>data[i][j]</cite> contains
the value at the jth time step of the ith channel of the
multivariate time series.</p>
</p></li>
<li><p><strong>context_types</strong> â List of strings indicating the type of each value in context.
he value at <cite>context[i]</cite> must match the type specified by
<cite>context_types[i]</cite>. Valid types include the following: <cite>categorical</cite>,
<cite>continuous</cite>, <cite>ordinal</cite>, <cite>count</cite>, and <cite>datetime</cite>.</p></li>
<li><p><strong>data_types</strong> â List of strings indicating the type of each channel in data.
Each value in the list at data[i] must match the type specified by
<cite>data_types[i]</cite>. The valid types are the same as for <cite>context_types</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="deepecho.models.base.DeepEcho.sample">
<code class="sig-name descname">sample</code><span class="sig-paren">(</span><em class="sig-param">num_entities=None</em>, <em class="sig-param">context=None</em>, <em class="sig-param">sequence_length=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/deepecho/models/base.html#DeepEcho.sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepecho.models.base.DeepEcho.sample" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sample a dataframe containing time series data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_entities</strong> (<em>int</em>) â The number of entities to sample.</p></li>
<li><p><strong>context</strong> (<em>pd.DataFrame</em>) â Context values to use when sampling.</p></li>
<li><p><strong>sequence_length</strong> (<em>int</em><em> or </em><em>None</em>) â If given, force sequences to be of the indicated length.
If <code class="docutils literal notranslate"><span class="pre">None</span></code> (default), sample sequences of the same length
as the original dataset.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A DataFrame which resembles the original dataframe where (1) the
entity column(s) are arbitrarily generated, (2) the context
column(s) are resampled from the original data, and (3) the data
columns containing the time series comes from the conditional
time series model.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="deepecho.models.base.DeepEcho.sample_sequence">
<code class="sig-name descname">sample_sequence</code><span class="sig-paren">(</span><em class="sig-param">context</em>, <em class="sig-param">sequence_length=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/deepecho/models/base.html#DeepEcho.sample_sequence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#deepecho.models.base.DeepEcho.sample_sequence" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Sample a single sequence conditioned on context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>context</strong> (<em>list</em>) â The list of values to condition on. It must match
the types specified in context_types when fit was called.</p></li>
<li><p><strong>sequence_length</strong> (<em>int</em><em> or </em><em>None</em>) â If given, force sequences to be of the indicated length.
If <code class="docutils literal notranslate"><span class="pre">None</span></code> (default), sample sequences of the same length
as the original dataset.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of lists (data) corresponding to the types specified
in data_types when fit was called.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list[list]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="deepecho.models.basic_gan.html" class="btn btn-neutral float-right" title="deepecho.models.basic_gan module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="deepecho.models.html" class="btn btn-neutral float-left" title="deepecho.models package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Kevin Alex Zhang

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>